class Workout{constructor(){this.description="",this.name="",this.intervals=[]}get totalSeconds(){return this.intervals.reduce((a,b)=>+a+ +b.duration,0)}addInterval(a){let b=this.intervals.slice(-1).pop();a.start=b?b.end:0,this.intervals.push(a),this.updateStartTimes()}addIntervals(a){a.forEach(a=>this.addInterval(a))}deleteInterval(a){this.intervals=this.intervals.filter(b=>b!=a),this.updateStartTimes()}updateStartTimes(){for(let a=0;a<this.intervals.length;a++){const b=this.intervals[a],c=this.intervals[a-1];b.start=c&&0!=a?c.end:0}}save(a){let b="[COURSE HEADER]\nUNITS=ENGLISH\nVERSION=2\n";return b+=`DESCRIPTION=${this.description}\n`,b+=`FILE NAME=${this.name}\n`,b+=`MINUTES ${"mrc"==a?"PERCENT":"WATTS"}`,b+="[END COURSE HEADER]\n",b+="[COURSE DATA]\n",b+=this.intervalsToString(),b+="[END COURSE DATA]",b}intervalsToString(){return this.intervals.map(a=>a.toString()).join("")}}export default Workout;